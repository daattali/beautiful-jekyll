<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DGtal: SeparableMetricTraits.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>SeparableMetricTraits.h</h1>  </div>
</div>
<div class="contents">
<a href="SeparableMetricTraits_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00017"></a>00017 <span class="preprocessor">#pragma once</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="preprocessor">#if defined(SeparableMetricTraits_RECURSES)</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span><span class="preprocessor">#error Recursive header files inclusion detected in SeparableMetricTraits.h</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span><span class="preprocessor">#else // defined(SeparableMetricTraits_RECURSES)</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span>
<a name="l00035"></a><a class="code" href="SeparableMetricTraits_8h.html#ab2b054abd3f29a6233f668a63f0a4d8c">00035</a> <span class="preprocessor">#define SeparableMetricTraits_RECURSES</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span>
<a name="l00037"></a>00037 <span class="preprocessor">#if !defined SeparableMetricTraits_h</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span>
<a name="l00039"></a><a class="code" href="SeparableMetricTraits_8h.html#a885645ae476d5e0136c069ba1fdcb081">00039</a> <span class="preprocessor">#define SeparableMetricTraits_h</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>
<a name="l00042"></a>00042 <span class="comment">// Inclusions</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &lt;cmath&gt;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="Common_8h.html">DGtal/base/Common.h</a>&quot;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;boost/concept_check.hpp&gt;</span>
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="keyword">namespace </span>DGtal
<a name="l00050"></a>00050 {
<a name="l00051"></a>00051 
<a name="l00053"></a>00053   <span class="comment">// template class SeparableMetricTraits</span>
<a name="l00064"></a>00064 <span class="comment"></span>  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TAbscissa, <span class="keyword">typename</span> TValueType, DGtal::u<span class="keywordtype">int</span>32_t tp&gt;
<a name="l00065"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits.html">00065</a>   <span class="keyword">struct </span><a class="code" href="structDGtal_1_1SeparableMetricTraits.html" title="Aim: Implements basic functions associated to metrics used by separable volumetric algorithms...">SeparableMetricTraits</a>
<a name="l00066"></a>00066   {
<a name="l00067"></a>00067     <span class="comment">// ----------------------- Standard services ------------------------------</span>
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits.html#acbe3af7e472060a968624e0702714fa6">00069</a>     <span class="keyword">typedef</span> TValueType ValueType;
<a name="l00070"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a850efd7bd4435a3986f3a65d23f69052">00070</a>     <span class="keyword">typedef</span> TAbscissa Abscissa;
<a name="l00071"></a>00071 
<a name="l00076"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ab7b89b42783cc25eb9071c2ca85d6995">00076</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceDGtal.html#a27c59126488e9c545120667959d2fc4e">DGtal::uint32_t</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ab7b89b42783cc25eb9071c2ca85d6995">p</a> = tp;
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 
<a name="l00082"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a250783afaa5c46cc397bf4d2b3686f13">00082</a>     <span class="keyword">typedef</span> <span class="keywordtype">double</span> InternalValueType;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 
<a name="l00093"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits.html#afffd6a897c6bcb9512a4d8b1bfded7cd">00093</a>     <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#acbe3af7e472060a968624e0702714fa6">ValueType</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#afffd6a897c6bcb9512a4d8b1bfded7cd">operator() </a>( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a250783afaa5c46cc397bf4d2b3686f13">InternalValueType</a> &amp; aInternalValueType )<span class="keyword"> const</span>
<a name="l00094"></a>00094 <span class="keyword">    </span>{
<a name="l00095"></a>00095       <span class="keywordflow">return</span> (<a class="code" href="structDGtal_1_1SeparableMetricTraits.html#acbe3af7e472060a968624e0702714fa6">ValueType</a>) std::pow((<span class="keywordtype">double</span>) aInternalValueType, (<span class="keywordtype">double</span>) 1.0 / <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ab7b89b42783cc25eb9071c2ca85d6995">p</a>);
<a name="l00096"></a>00096     }
<a name="l00097"></a>00097 
<a name="l00108"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a5743a6765442bff207409ee3479edf2b">00108</a>     <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a250783afaa5c46cc397bf4d2b3686f13">InternalValueType</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a5743a6765442bff207409ee3479edf2b">F</a> ( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a850efd7bd4435a3986f3a65d23f69052">Abscissa</a> pos, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a850efd7bd4435a3986f3a65d23f69052">Abscissa</a> ci, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a250783afaa5c46cc397bf4d2b3686f13">InternalValueType</a> hi )<span class="keyword"> const</span>
<a name="l00109"></a>00109 <span class="keyword">    </span>{
<a name="l00110"></a>00110                 <span class="keywordflow">return</span> std::pow( fabs((<span class="keywordtype">double</span> )pos - ci) , (<span class="keywordtype">double</span>)<a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ab7b89b42783cc25eb9071c2ca85d6995">p</a>) + hi;
<a name="l00111"></a>00111     }
<a name="l00112"></a>00112 
<a name="l00121"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a490094bdd0f452148fe8b7e9a8bb2d52">00121</a>     <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a250783afaa5c46cc397bf4d2b3686f13">InternalValueType</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a490094bdd0f452148fe8b7e9a8bb2d52">power</a> ( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a850efd7bd4435a3986f3a65d23f69052">Abscissa</a> pos )<span class="keyword"> const</span>
<a name="l00122"></a>00122 <span class="keyword">    </span>{
<a name="l00123"></a>00123       <span class="keywordflow">return</span> ( <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a250783afaa5c46cc397bf4d2b3686f13">InternalValueType</a> ) std::pow ( pos, <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ab7b89b42783cc25eb9071c2ca85d6995">p</a> );
<a name="l00124"></a>00124     }
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 
<a name="l00138"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ad41773b17c1855aa654a9e49e8d8a103">00138</a>     <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a850efd7bd4435a3986f3a65d23f69052">Abscissa</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ad41773b17c1855aa654a9e49e8d8a103">Sep</a> ( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a850efd7bd4435a3986f3a65d23f69052">Abscissa</a> i, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a250783afaa5c46cc397bf4d2b3686f13">InternalValueType</a> hi, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a850efd7bd4435a3986f3a65d23f69052">Abscissa</a> j, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a250783afaa5c46cc397bf4d2b3686f13">InternalValueType</a> hj )<span class="keyword"> const</span>
<a name="l00139"></a>00139 <span class="keyword">    </span>{
<a name="l00140"></a>00140       <a class="code" href="Assert_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;Not-Yet-Implemented&quot;</span>);
<a name="l00141"></a>00141     }
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 
<a name="l00144"></a>00144   }; <span class="comment">// end of class SeparableMetricTraits</span>
<a name="l00145"></a>00145 
<a name="l00146"></a>00146   <span class="comment">// ------------------------------------------------------------------------</span>
<a name="l00147"></a>00147   <span class="comment">// -----------------------  Specializations   ------------------------------</span>
<a name="l00148"></a>00148   <span class="comment">// ------------------------------------------------------------------------</span>
<a name="l00149"></a>00149 
<a name="l00154"></a>00154   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TAbscissa, <span class="keyword">typename</span> TValueType&gt;
<a name="l00155"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html">00155</a>   <span class="keyword">struct </span><a class="code" href="structDGtal_1_1SeparableMetricTraits.html" title="Aim: Implements basic functions associated to metrics used by separable volumetric algorithms...">SeparableMetricTraits</a>&lt;TAbscissa, TValueType, 2&gt;
<a name="l00156"></a>00156   {
<a name="l00157"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#a5964049b15f6e3877e1a89c9b5b11078">00157</a>     <span class="keyword">typedef</span> TValueType ValueType;
<a name="l00158"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#ac86d6322b7cd0dc09998ebbfaf9df388">00158</a>     <span class="keyword">typedef</span> TAbscissa Abscissa;
<a name="l00159"></a>00159                 
<a name="l00160"></a>00160 
<a name="l00161"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#a292bad4906531038ad1de13da90e07d3">00161</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceDGtal.html#a27c59126488e9c545120667959d2fc4e">DGtal::uint32_t</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ab7b89b42783cc25eb9071c2ca85d6995">p</a> = 2;
<a name="l00162"></a>00162 
<a name="l00163"></a>00163     <span class="comment">//Check if ValueType sizeof() &gt; capacit√© max</span>
<a name="l00164"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#abc3d1f7e6bd8c0c100d2d7b1f30f29ba">00164</a>     <span class="keyword">typedef</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#a5964049b15f6e3877e1a89c9b5b11078">ValueType</a> InternalValueType;
<a name="l00165"></a>00165 
<a name="l00166"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#a04240c8ab6d3e9b38f5c21b675692dbc">00166</a>     <span class="keyword">inline</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#a5964049b15f6e3877e1a89c9b5b11078">ValueType</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#afffd6a897c6bcb9512a4d8b1bfded7cd">operator() </a>( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#abc3d1f7e6bd8c0c100d2d7b1f30f29ba">InternalValueType</a> &amp; aInternalValue )<span class="keyword"> const</span>
<a name="l00167"></a>00167 <span class="keyword">    </span>{
<a name="l00168"></a>00168       <span class="keywordflow">return</span> ( <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#a5964049b15f6e3877e1a89c9b5b11078">ValueType</a> ) sqrt ( aInternalValue );
<a name="l00169"></a>00169     }
<a name="l00170"></a>00170 
<a name="l00171"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#a43e8cf8eebc2fb1aeccdf97cbce38a6c">00171</a>     <span class="keyword">inline</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#abc3d1f7e6bd8c0c100d2d7b1f30f29ba">InternalValueType</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a5743a6765442bff207409ee3479edf2b">F</a> ( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#ac86d6322b7cd0dc09998ebbfaf9df388">Abscissa</a> pos, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#ac86d6322b7cd0dc09998ebbfaf9df388">Abscissa</a> ci, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#abc3d1f7e6bd8c0c100d2d7b1f30f29ba">InternalValueType</a> hi )<span class="keyword"> const</span>
<a name="l00172"></a>00172 <span class="keyword">    </span>{
<a name="l00173"></a>00173       <span class="keywordflow">return</span> ( pos - ci ) * ( pos - ci ) + hi;
<a name="l00174"></a>00174     }
<a name="l00175"></a>00175 
<a name="l00176"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#aee38fd673de6e3f021548df8b2af1f08">00176</a>     <span class="keyword">inline</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#ac86d6322b7cd0dc09998ebbfaf9df388">Abscissa</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ad41773b17c1855aa654a9e49e8d8a103">Sep</a> ( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#ac86d6322b7cd0dc09998ebbfaf9df388">Abscissa</a> i, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#abc3d1f7e6bd8c0c100d2d7b1f30f29ba">InternalValueType</a> hi, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#ac86d6322b7cd0dc09998ebbfaf9df388">Abscissa</a> j, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#abc3d1f7e6bd8c0c100d2d7b1f30f29ba">InternalValueType</a> hj )<span class="keyword"> const</span>
<a name="l00177"></a>00177 <span class="keyword">    </span>{
<a name="l00178"></a>00178       <span class="keywordflow">return</span> ( ( j*j - i*i ) + hj - hi )  / ( 2* ( j - i ) );
<a name="l00179"></a>00179     }
<a name="l00180"></a>00180 
<a name="l00181"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#a951120962e23a98398c4d66c32d3656b">00181</a>     <span class="keyword">inline</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#abc3d1f7e6bd8c0c100d2d7b1f30f29ba">InternalValueType</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a490094bdd0f452148fe8b7e9a8bb2d52">power</a> ( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#ac86d6322b7cd0dc09998ebbfaf9df388">Abscissa</a> i )<span class="keyword"> const</span>
<a name="l00182"></a>00182 <span class="keyword">    </span>{
<a name="l00183"></a>00183       <span class="keywordflow">return</span> (<a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_012_01_4.html#abc3d1f7e6bd8c0c100d2d7b1f30f29ba">InternalValueType</a>) (i*i);
<a name="l00184"></a>00184     }
<a name="l00185"></a>00185   };
<a name="l00186"></a>00186 
<a name="l00191"></a>00191   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TAbscissa, <span class="keyword">typename</span> TValueType&gt;
<a name="l00192"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html">00192</a>   <span class="keyword">struct </span><a class="code" href="structDGtal_1_1SeparableMetricTraits.html" title="Aim: Implements basic functions associated to metrics used by separable volumetric algorithms...">SeparableMetricTraits</a>&lt;TAbscissa, TValueType, 1&gt;
<a name="l00193"></a>00193   {
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#a1aff8424afcc9351cb8064414996a052">00195</a>     <span class="keyword">typedef</span> TValueType ValueType;
<a name="l00196"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#abd94c0ad28ebbf338f49bf535217a902">00196</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceDGtal.html#a27c59126488e9c545120667959d2fc4e">DGtal::uint32_t</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ab7b89b42783cc25eb9071c2ca85d6995">p</a> = 1;
<a name="l00197"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#adf72659300d19fadda48ae2ec49a2d12">00197</a>     <span class="keyword">typedef</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#a1aff8424afcc9351cb8064414996a052">ValueType</a> InternalValueType;
<a name="l00198"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#aad097a5c754c71f43a8dfe4b656087f9">00198</a>     <span class="keyword">typedef</span> TAbscissa Abscissa;
<a name="l00199"></a>00199                 
<a name="l00200"></a>00200 
<a name="l00201"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#a70a424fa35ee2545fe148ec8d6bc9f53">00201</a>     <span class="keyword">inline</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#a1aff8424afcc9351cb8064414996a052">ValueType</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#afffd6a897c6bcb9512a4d8b1bfded7cd">operator() </a>( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#adf72659300d19fadda48ae2ec49a2d12">InternalValueType</a> &amp; aInternalValue )<span class="keyword"> const</span>
<a name="l00202"></a>00202 <span class="keyword">    </span>{
<a name="l00203"></a>00203       <span class="keywordflow">return</span> ( <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#a1aff8424afcc9351cb8064414996a052">ValueType</a> ) aInternalValue;
<a name="l00204"></a>00204     }
<a name="l00205"></a>00205  
<a name="l00206"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#a6eae6c2a0f73582ed4e5df45aca883a9">00206</a>     <span class="keyword">inline</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#adf72659300d19fadda48ae2ec49a2d12">InternalValueType</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a5743a6765442bff207409ee3479edf2b">F</a> ( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#aad097a5c754c71f43a8dfe4b656087f9">Abscissa</a> pos, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#aad097a5c754c71f43a8dfe4b656087f9">Abscissa</a> ci, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#adf72659300d19fadda48ae2ec49a2d12">InternalValueType</a> hi )<span class="keyword"> const</span>
<a name="l00207"></a>00207 <span class="keyword">    </span>{
<a name="l00208"></a>00208       <span class="keywordflow">return</span> ( <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#adf72659300d19fadda48ae2ec49a2d12">InternalValueType</a> ) abs ( pos - ci ) + hi;
<a name="l00209"></a>00209     }
<a name="l00210"></a>00210 
<a name="l00211"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#a8875415bb1cd7d55cc1becb09b39849a">00211</a>     <span class="keyword">inline</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#aad097a5c754c71f43a8dfe4b656087f9">Abscissa</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ad41773b17c1855aa654a9e49e8d8a103">Sep</a> ( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#aad097a5c754c71f43a8dfe4b656087f9">Abscissa</a> i, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#adf72659300d19fadda48ae2ec49a2d12">InternalValueType</a> hi, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#aad097a5c754c71f43a8dfe4b656087f9">Abscissa</a> j, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#adf72659300d19fadda48ae2ec49a2d12">InternalValueType</a> hj )<span class="keyword"> const</span>
<a name="l00212"></a>00212 <span class="keyword">    </span>{
<a name="l00213"></a>00213       <span class="keywordflow">if</span> (hj &gt;= hi + j - i)
<a name="l00214"></a>00214         <span class="keywordflow">return</span> <a class="code" href="structDGtal_1_1IntegerTraits.html" title="Aim: The traits class for all models of Cinteger.">IntegerTraits&lt;Abscissa&gt;::max</a>();
<a name="l00215"></a>00215       <span class="keywordflow">if</span> (hi &gt; hj + j - i)
<a name="l00216"></a>00216         <span class="keywordflow">return</span> <a class="code" href="structDGtal_1_1IntegerTraits.html" title="Aim: The traits class for all models of Cinteger.">IntegerTraits&lt;Abscissa&gt;::min</a>();
<a name="l00217"></a>00217       <span class="keywordflow">return</span> (hj - hi + j + i) / 2;
<a name="l00218"></a>00218     }
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#a8786875b00b2c364f1aab40cfdf42b2b">00220</a>     <span class="keyword">inline</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#adf72659300d19fadda48ae2ec49a2d12">InternalValueType</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a490094bdd0f452148fe8b7e9a8bb2d52">power</a> ( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#aad097a5c754c71f43a8dfe4b656087f9">Abscissa</a> i )<span class="keyword"> const</span>
<a name="l00221"></a>00221 <span class="keyword">    </span>{
<a name="l00222"></a>00222       <span class="keywordflow">return</span> (<a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_011_01_4.html#adf72659300d19fadda48ae2ec49a2d12">InternalValueType</a>) abs(i);
<a name="l00223"></a>00223     }
<a name="l00224"></a>00224 
<a name="l00225"></a>00225   }; <span class="comment">// end of class SeparableMetricTraits</span>
<a name="l00226"></a>00226 
<a name="l00231"></a>00231   <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TAbscissa, <span class="keyword">typename</span> TValueType&gt;
<a name="l00232"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html">00232</a>   <span class="keyword">struct </span><a class="code" href="structDGtal_1_1SeparableMetricTraits.html" title="Aim: Implements basic functions associated to metrics used by separable volumetric algorithms...">SeparableMetricTraits</a>&lt;TAbscissa, TValueType, 0&gt;
<a name="l00233"></a>00233   {
<a name="l00234"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">00234</a>     <span class="keyword">typedef</span> TAbscissa Abscissa;
<a name="l00235"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a32b79fb500e99d167d32796be7efcb69">00235</a>     <span class="keyword">typedef</span> TValueType ValueType;
<a name="l00236"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a6751644f42c5fb7d176e049cc80a324a">00236</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceDGtal.html#a27c59126488e9c545120667959d2fc4e">DGtal::uint32_t</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ab7b89b42783cc25eb9071c2ca85d6995">p</a> = 0;
<a name="l00237"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a69100e4d102e92e9096fcf3ac75b0853">00237</a>     <span class="keyword">typedef</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a32b79fb500e99d167d32796be7efcb69">ValueType</a> InternalValueType;
<a name="l00238"></a>00238 
<a name="l00239"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a43c9239367487221823bafd25054911d">00239</a>     <span class="keyword">inline</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a32b79fb500e99d167d32796be7efcb69">ValueType</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#afffd6a897c6bcb9512a4d8b1bfded7cd">operator() </a>( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a69100e4d102e92e9096fcf3ac75b0853">InternalValueType</a> &amp; aInternalValue )<span class="keyword"> const</span>
<a name="l00240"></a>00240 <span class="keyword">    </span>{
<a name="l00241"></a>00241       <span class="keywordflow">return</span> ( <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a32b79fb500e99d167d32796be7efcb69">ValueType</a> ) aInternalValue;
<a name="l00242"></a>00242     }
<a name="l00243"></a>00243 
<a name="l00244"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4dc3dd2be5672b019be068f66d4c6587">00244</a>     <span class="keyword">inline</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a69100e4d102e92e9096fcf3ac75b0853">InternalValueType</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a5743a6765442bff207409ee3479edf2b">F</a> ( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">Abscissa</a> pos, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">Abscissa</a> ci, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a69100e4d102e92e9096fcf3ac75b0853">InternalValueType</a> hi )<span class="keyword"> const</span>
<a name="l00245"></a>00245 <span class="keyword">    </span>{
<a name="l00246"></a>00246      <span class="keywordflow">return</span> ( <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a69100e4d102e92e9096fcf3ac75b0853">InternalValueType</a> ) std::max( (<a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">Abscissa</a>)abs ( pos - ci ) , (<a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">Abscissa</a>) hi);
<a name="l00247"></a>00247     }
<a name="l00248"></a>00248 
<a name="l00249"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fd1b4a8c9723ef620b3fc8db69a0c8f">00249</a>     <span class="keyword">inline</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">Abscissa</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#ad41773b17c1855aa654a9e49e8d8a103">Sep</a> ( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">Abscissa</a> i, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a69100e4d102e92e9096fcf3ac75b0853">InternalValueType</a> hi, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">Abscissa</a> j, <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a69100e4d102e92e9096fcf3ac75b0853">InternalValueType</a> hj )<span class="keyword"> const</span>
<a name="l00250"></a>00250 <span class="keyword">    </span>{
<a name="l00251"></a>00251       <span class="keywordflow">if</span> (hi &lt;= hj)
<a name="l00252"></a>00252         <span class="keywordflow">return</span> std::max ((<a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">Abscissa</a>)(i + hj), (<a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">Abscissa</a>)(i + j) / 2);
<a name="l00253"></a>00253       <span class="keywordflow">else</span>
<a name="l00254"></a>00254         <span class="keywordflow">return</span> std::min ((<a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">Abscissa</a>)(j - hi), (<a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">Abscissa</a>)(i + j) / 2);
<a name="l00255"></a>00255     }
<a name="l00256"></a>00256 
<a name="l00257"></a><a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a82a371bfb92c8b01f7e6570fe82a09b1">00257</a>     <span class="keyword">inline</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a69100e4d102e92e9096fcf3ac75b0853">InternalValueType</a> <a class="code" href="structDGtal_1_1SeparableMetricTraits.html#a490094bdd0f452148fe8b7e9a8bb2d52">power</a> ( <span class="keyword">const</span> <a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a4fba7639eec4ce3c257f899b06fe8d1e">Abscissa</a> i )<span class="keyword"> const</span>
<a name="l00258"></a>00258 <span class="keyword">    </span>{
<a name="l00259"></a>00259       <span class="keywordflow">return</span> (<a class="code" href="structDGtal_1_1SeparableMetricTraits_3_01TAbscissa_00_01TValueType_00_010_01_4.html#a69100e4d102e92e9096fcf3ac75b0853">InternalValueType</a>) abs(i);
<a name="l00260"></a>00260     }
<a name="l00261"></a>00261 
<a name="l00262"></a>00262   }; <span class="comment">// end of class SeparableMetricTraits</span>
<a name="l00263"></a>00263 
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 } <span class="comment">// namespace DGtal</span>
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 
<a name="l00269"></a>00269 <span class="comment">// Includes inline functions.</span>
<a name="l00270"></a>00270 <span class="preprocessor">#include &quot;DGtal/geometry/nd/volumetric/SeparableMetricTraits.ih&quot;</span>
<a name="l00271"></a>00271 
<a name="l00272"></a>00272 <span class="comment">//                                                                           //</span>
<a name="l00274"></a>00274 <span class="comment"></span>
<a name="l00275"></a>00275 <span class="preprocessor">#endif // !defined SeparableMetricTraits_h</span>
<a name="l00276"></a>00276 <span class="preprocessor"></span>
<a name="l00277"></a>00277 <span class="preprocessor">#undef SeparableMetricTraits_RECURSES</span>
<a name="l00278"></a>00278 <span class="preprocessor"></span><span class="preprocessor">#endif // else defined(SeparableMetricTraits_RECURSES)</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Dec 10 2010 13:16:33 for DGtal by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
