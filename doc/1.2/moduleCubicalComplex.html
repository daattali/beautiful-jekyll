<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DGtal: Cubical Complex</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="modern-doxygen-blue.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DGtal
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Cubical Complex </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#dgtal_ccomplex_sec1">Introduction to cubical complexes</a></li>
<li class="level1"><a href="#dgtal_ccomplex_sec2">Displaying a 2D cubical complex</a></li>
<li class="level1"><a href="#dgtal_ccomplex_sec3">Incidence within a cubical complex</a></li>
<li class="level1"><a href="#dgtal_ccomplex_sec4">Closure, star and link of cells of a complex</a></li>
<li class="level1"><a href="#dgtal_ccomplex_sec5">Interior, boundary of a complex</a></li>
<li class="level1"><a href="#dgtal_ccomplex_sec6">Set operations on complexes</a></li>
<li class="level1"><a href="#dgtal_ccomplex_sec7">Topological operations: closing, opening, collapsing a complex</a></li>
<li class="level1"><a href="#dgtal_ccomplex_sec8">Thinning in cubical complexes</a></li>
</ul>
</div>
<div class="textblock"><dl class="section user"><dt>Author(s) of this documentation: </dt><dd>Jacques-Olivier Lachaud</dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.9.1</dd></dl>
<p>Part of the <a class="el" href="packageTopology.html">Topology package</a>.</p>
<p>This part of the manual describes how to represent and process arbitrary cubical complexes.</p>
<dl class="section note"><dt>Note</dt><dd>Collapse operation is a backport from <em>ImaGene</em>. <a class="el" href="citelist.html#CITEREF_ImaGene">[53]</a></dd></dl>
<p>The following programs are related to this documentation: <a class="el" href="cubical-complex-collapse_8cpp.html">cubical-complex-collapse.cpp</a>, <a class="el" href="cubical-complex-illustrations_8cpp.html">cubical-complex-illustrations.cpp</a>, <a class="el" href="testCubicalComplex_8cpp.html">testCubicalComplex.cpp</a>, <a class="el" href="cubicalComplexThinning_8cpp.html">cubicalComplexThinning.cpp</a>.</p>
<h1><a class="anchor" id="dgtal_ccomplex_sec1"></a>
Introduction to cubical complexes</h1>
<p>We define a <b>cubical</b> <b>complex</b> <em>C</em> as a collection of cells living in some Khalimsky space. Two cells of <em>C</em> are <b>incident</b> if and only if they are incident in the Khalimsky space. A cubical complex provides many services related to set of (unsigned) cells living in a Khalimsky space: incidence operations, closure, star, link, cell set operations, cell set relations, collapse operation.</p>
<dl class="section note"><dt>Note</dt><dd>In opposition to the usual definition of simplical complex, we do not require that all faces of a cell of <em>C</em> belong also to <em>C</em>.</dd>
<dd>
A digital surface is not a cubical complex, because it does not contain explicitely cells of dimension lower than n-1 and because it requires some sort of orientation. However, it is easy to build an <a class="el" href="classDGtal_1_1ExplicitDigitalSurface.html" title="Aim: A model of CDigitalSurfaceContainer which defines the digital surface as connected surfels....">ExplicitDigitalSurface</a> or a <a class="el" href="classDGtal_1_1LightExplicitDigitalSurface.html" title="Aim: A model of CDigitalSurfaceContainer which defines the digital surface as connected surfels....">LightExplicitDigitalSurface</a> from a <a class="el" href="classDGtal_1_1CubicalComplex.html" title="Aim: This class represents an arbitrary cubical complex living in some Khalimsky space....">CubicalComplex</a> that stores a set of d-1-cells. You just need to create a functor Surfel -&gt; bool from the complex.</dd></dl>
<p>To create a cubical complex, we need to specify in which Khalimsky space it lives and also, optionally, the type of container used for storing cells. By default it is <code>std::map</code> but <code>boost::unordered_map</code> or <code>std::unordered_map</code> is also possible.</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceDGtal.html">DGtal</a>;</div>
<div class="line"><span class="keyword">typedef</span> KhalimskySpaceND&lt;2,int&gt;           <a class="code" href="testArithmeticalDSSComputerOnSurfels_8cpp.html#aebe586e91159919ccf2f565d4407fff7">KSpace</a>; <span class="comment">// ZxZ</span></div>
<div class="line"><span class="keyword">typedef</span> std::map&lt;Cell, CubicalCellData&gt;   <a class="code" href="testCubicalComplex_8cpp.html#a3031b1f2ddc44ea99c027b98a3b841f8">Map</a>;    <span class="comment">// each cell must store at least a CubicalCellData</span></div>
<div class="line"><span class="keyword">typedef</span> CubicalComplex&lt; KSpace, Map &gt;     <a class="code" href="testCubicalComplex_8cpp.html#a9f6eee55782bbac774730b7688010a1e">CC</a>;     <span class="comment">// the type of cubical complex</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="testArithmeticalDSSComputerOnSurfels_8cpp.html#aebe586e91159919ccf2f565d4407fff7">KSpace</a> <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>;                                         <span class="comment">// The cellular grid space</span></div>
<div class="line"><a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.init( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>( 0,0 ), <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>( 100,100 ), <span class="keyword">true</span> );   <span class="comment">// Limits of the grid space</span></div>
<div class="line"><a class="code" href="testCubicalComplex_8cpp.html#a9f6eee55782bbac774730b7688010a1e">CC</a> complex( <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a> );                                  <span class="comment">// The complex</span></div>
<div class="ttc" id="anamespaceDGtal_html"><div class="ttname"><a href="namespaceDGtal.html">DGtal</a></div><div class="ttdoc">DGtal is the top-level namespace which contains all DGtal functions and types.</div><div class="ttdef"><b>Definition:</b> <a href="ClosedIntegerHalfPlane_8h_source.html#l00048">ClosedIntegerHalfPlane.h:49</a></div></div>
<div class="ttc" id="atestArithmeticalDSSComputerOnSurfels_8cpp_html_aebe586e91159919ccf2f565d4407fff7"><div class="ttname"><a href="testArithmeticalDSSComputerOnSurfels_8cpp.html#aebe586e91159919ccf2f565d4407fff7">KSpace</a></div><div class="ttdeci">Z3i::KSpace KSpace</div><div class="ttdef"><b>Definition:</b> <a href="testArithmeticalDSSComputerOnSurfels_8cpp_source.html#l00048">testArithmeticalDSSComputerOnSurfels.cpp:48</a></div></div>
<div class="ttc" id="atestClone2_8cpp_html_a15e9592ccc512dc691b46185e6814758"><div class="ttname"><a href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a></div><div class="ttdeci">MyPointD Point</div><div class="ttdef"><b>Definition:</b> <a href="testClone2_8cpp_source.html#l00383">testClone2.cpp:383</a></div></div>
<div class="ttc" id="atestCubicalComplex_8cpp_html_a2b87ed989d2519d025bd5d4fbcbac062"><div class="ttname"><a href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a></div><div class="ttdeci">KSpace K</div><div class="ttdef"><b>Definition:</b> <a href="testCubicalComplex_8cpp_source.html#l00062">testCubicalComplex.cpp:62</a></div></div>
<div class="ttc" id="atestCubicalComplex_8cpp_html_a3031b1f2ddc44ea99c027b98a3b841f8"><div class="ttname"><a href="testCubicalComplex_8cpp.html#a3031b1f2ddc44ea99c027b98a3b841f8">Map</a></div><div class="ttdeci">std::unordered_map&lt; Cell, CubicalCellData &gt; Map</div><div class="ttdef"><b>Definition:</b> <a href="testCubicalComplex_8cpp_source.html#l00057">testCubicalComplex.cpp:57</a></div></div>
<div class="ttc" id="atestCubicalComplex_8cpp_html_a9f6eee55782bbac774730b7688010a1e"><div class="ttname"><a href="testCubicalComplex_8cpp.html#a9f6eee55782bbac774730b7688010a1e">CC</a></div><div class="ttdeci">CubicalComplex&lt; KSpace, Map &gt; CC</div><div class="ttdef"><b>Definition:</b> <a href="testCubicalComplex_8cpp_source.html#l00058">testCubicalComplex.cpp:58</a></div></div>
</div><!-- fragment --><p>Cells may be inserted through methods <a class="el" href="classDGtal_1_1CubicalComplex.html#ab56b2e3c982be6d92ed3429b9e64e745">CubicalComplex::insertCell</a> and <a class="el" href="classDGtal_1_1CubicalComplex.html#a4c5b9f6a50478682a39f6d2985998497">CubicalComplex::insertCells</a>. Cells are easily created with a model of CCellularGridSpaceND, for instance by specifying Khalimsky coordinates (see <a class="el" href="moduleCellularTopology.html">Cellular grid space and topology, unoriented and oriented cells, incidence</a>). The small piece of code below creates a ring around a pixel.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="classDGtal_1_1PointVector.html">KSpace::Point</a>                     <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>;   <span class="comment">// the type of each digital point.</span></div>
<div class="line">complex.insertCell( 0, <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.uCell( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>( 0, 0 ) ) ); <span class="comment">// it is optional (but slightly faster)</span></div>
<div class="line">complex.insertCell( 1, <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.uCell( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>( 1, 0 ) ) ); <span class="comment">// to specify the dimension of the cell</span></div>
<div class="line">complex.insertCell( 0, <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.uCell( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>( 2, 0 ) ) ); <span class="comment">// at insertion.</span></div>
<div class="line">complex.insertCell( 1, <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.uCell( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>( 2, 1 ) ) );</div>
<div class="line">complex.insertCell( 0, <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.uCell( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>( 2, 2 ) ) );</div>
<div class="line">complex.insertCell( 1, <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.uCell( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>( 1, 2 ) ) );</div>
<div class="line">complex.insertCell( 0, <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.uCell( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>( 0, 2 ) ) );</div>
<div class="line">complex.insertCell( 1, <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.uCell( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>( 0, 1 ) ) );</div>
<div class="line"><a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#ad054990834d2763627166540087a2980">info</a>() &lt;&lt; <span class="stringliteral">&quot;Euler number is &quot;</span> &lt;&lt; complex.euler() &lt;&lt; std::endl; <span class="comment">// Should be 0</span></div>
<div class="ttc" id="aclassDGtal_1_1PointVector_html"><div class="ttname"><a href="classDGtal_1_1PointVector.html">DGtal::PointVector&lt; dim, Integer &gt;</a></div></div>
<div class="ttc" id="aclassDGtal_1_1Trace_html_ad054990834d2763627166540087a2980"><div class="ttname"><a href="classDGtal_1_1Trace.html#ad054990834d2763627166540087a2980">DGtal::Trace::info</a></div><div class="ttdeci">std::ostream &amp; info()</div></div>
<div class="ttc" id="anamespaceDGtal_html_a8fc7012708b0416880a5c8b12dfdf9dd"><div class="ttname"><a href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">DGtal::trace</a></div><div class="ttdeci">Trace trace</div><div class="ttdef"><b>Definition:</b> <a href="Common_8h_source.html#l00154">Common.h:154</a></div></div>
</div><!-- fragment --><p>Method <a class="el" href="classDGtal_1_1CubicalComplex.html#a4c5b9f6a50478682a39f6d2985998497">CubicalComplex::insertCells</a> accepts any range of iterators on cells as input, hence you may for instance directly create a cubical complex from a digital surface (see <a class="el" href="moduleDigitalSurfaces.html">Digital surfaces</a>).</p>
<p>You have also methods to remove some cells (<a class="el" href="classDGtal_1_1CubicalComplex.html#a2f0308a85ada8bb02146f5c6607e8d66">CubicalComplex::eraseCell</a>, <a class="el" href="classDGtal_1_1CubicalComplex.html#a77df0c0c8a87ffe0f87850cee48a409b">CubicalComplex::eraseCells</a>) and methods to check if a cell belongs to the complex (<a class="el" href="classDGtal_1_1CubicalComplex.html#ab2255fad7ac5e85f6534cbc214bc2869">CubicalComplex::belongs</a>).</p>
<dl class="section note"><dt>Note</dt><dd>You may use <code>std::unordered_map</code> or <code>boost::unordered_map</code> instead of <code>std::map</code>. It is sometimes slightly faster. In this case you need to define a hash function for cells. Either you provide one, or you just include the file <a class="el" href="KhalimskyCellHashFunctions_8h_source.html">KhalimskyCellHashFunctions.h</a> with:</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;DGtal/topology/KhalimskyCellHashFunctions.h&quot;</span></div>
</div><!-- fragment --><p>Last, there is a data associated with each cell of a complex. The data type must either be <a class="el" href="structDGtal_1_1CubicalCellData.html">CubicalCellData</a> or a type that derives from <a class="el" href="structDGtal_1_1CubicalCellData.html">CubicalCellData</a>. This data is used by the <a class="el" href="namespaceDGtal_1_1functions.html#a72edc3d9d652158c3d02a6a11386f249">functions::collapse</a> operation, a function that is used to make a homotopic thinning of the cubical complex. It may also be used by the user for other purposes, like storing flags, coordinates or anything else associated to a cell. Look at the documentation of <a class="el" href="structDGtal_1_1CubicalCellData.html">CubicalCellData</a> to see the default stored flags and data.</p>
<h1><a class="anchor" id="dgtal_ccomplex_sec2"></a>
Displaying a 2D cubical complex</h1>
<p>2D cubical complex are displayable on a Board (see <a class="el" href="moduleBoard2D.html">Board2D: a stream mechanism for displaying 2D digital objects</a>). You just have to output the complex with the stream operator of a board. You may adjust the default style before. The following snippet creates and outputs a 2D complex.</p>
<div class="fragment"><div class="line">  <span class="keyword">using namespace </span><a class="code" href="namespaceDGtal_1_1Z2i.html">DGtal::Z2i</a>;</div>
<div class="line">  <span class="keyword">typedef</span> CubicalComplex&lt; KSpace &gt;     <a class="code" href="testCubicalComplex_8cpp.html#a9f6eee55782bbac774730b7688010a1e">CC</a>;</div>
<div class="line"> </div>
<div class="line">  <a class="code" href="testArithmeticalDSSComputerOnSurfels_8cpp.html#aebe586e91159919ccf2f565d4407fff7">KSpace</a> <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>;</div>
<div class="line">  <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.<a class="code" href="classDGtal_1_1KhalimskySpaceND.html#a15dcbcaae831dd1c36090e6336c177d4">init</a>( <a class="code" href="namespaceDGtal_1_1Z2i.html#ac0a04516c81db6f4a583eddda0f64875">Point</a>( 0,0 ), <a class="code" href="namespaceDGtal_1_1Z2i.html#ac0a04516c81db6f4a583eddda0f64875">Point</a>( 5,3 ), <span class="keyword">true</span> );</div>
<div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#a352b7160bf722e2f0bcbee5d0bad6ef3">beginBlock</a>( <span class="stringliteral">&quot;Creating Cubical Complex&quot;</span> );</div>
<div class="line">  <a class="code" href="testCubicalComplex_8cpp.html#a9f6eee55782bbac774730b7688010a1e">CC</a> X( <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a> );</div>
<div class="line">  <a class="code" href="testSimpleRandomAccessRangeFromPoint_8cpp.html#acd532b318489cd93df57e0b3d136d050">Domain</a> <a class="code" href="testProjection_8cpp.html#a1f1a69f8d8b037b72c2160ed12b3ef51">domain</a>( <a class="code" href="namespaceDGtal_1_1Z2i.html#ac0a04516c81db6f4a583eddda0f64875">Point</a>( 0,0 ), <a class="code" href="namespaceDGtal_1_1Z2i.html#ac0a04516c81db6f4a583eddda0f64875">Point</a>( 5,3 ) );</div>
<div class="line">  X.insertCell( <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.<a class="code" href="classDGtal_1_1KhalimskySpaceND.html#a0a767cfea8d95d93aa45a819612b567b">uSpel</a>( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>(1,1) ) );</div>
<div class="line">  X.insertCell( <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.<a class="code" href="classDGtal_1_1KhalimskySpaceND.html#a0a767cfea8d95d93aa45a819612b567b">uSpel</a>( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>(2,1) ) );</div>
<div class="line">  X.insertCell( <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.<a class="code" href="classDGtal_1_1KhalimskySpaceND.html#a0a767cfea8d95d93aa45a819612b567b">uSpel</a>( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>(3,1) ) );</div>
<div class="line">  X.insertCell( <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.<a class="code" href="classDGtal_1_1KhalimskySpaceND.html#a0a767cfea8d95d93aa45a819612b567b">uSpel</a>( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>(2,2) ) );</div>
<div class="line">  X.insertCell( <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.<a class="code" href="classDGtal_1_1KhalimskySpaceND.html#a0a767cfea8d95d93aa45a819612b567b">uSpel</a>( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>(3,2) ) );</div>
<div class="line">  X.insertCell( <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.<a class="code" href="classDGtal_1_1KhalimskySpaceND.html#a0a767cfea8d95d93aa45a819612b567b">uSpel</a>( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>(4,2) ) );</div>
<div class="line">  X.close();</div>
<div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#afa3a2874289734884107b1ce68ccb93d">endBlock</a>();</div>
<div class="line">  </div>
<div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#a352b7160bf722e2f0bcbee5d0bad6ef3">beginBlock</a>( <span class="stringliteral">&quot;Displays Cubical Complex&quot;</span> );</div>
<div class="line">  Board2D board;</div>
<div class="line">  board &lt;&lt; <a class="code" href="testProjection_8cpp.html#a1f1a69f8d8b037b72c2160ed12b3ef51">domain</a>;</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( Color(80,80,100), Color(180,180,200) ) )</div>
<div class="line">        &lt;&lt; X;</div>
<div class="line">  board.saveTikZ( <span class="stringliteral">&quot;cubical-complex-illustrations-X.tikz&quot;</span> );</div>
<div class="line">  <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#afa3a2874289734884107b1ce68ccb93d">endBlock</a>();</div>
<div class="ttc" id="aclassDGtal_1_1KhalimskySpaceND_html_a0a767cfea8d95d93aa45a819612b567b"><div class="ttname"><a href="classDGtal_1_1KhalimskySpaceND.html#a0a767cfea8d95d93aa45a819612b567b">DGtal::KhalimskySpaceND::uSpel</a></div><div class="ttdeci">Cell uSpel(Point p) const</div><div class="ttdoc">From the digital coordinates of a point in Zn, builds the corresponding spel (cell of maximal dimensi...</div></div>
<div class="ttc" id="aclassDGtal_1_1KhalimskySpaceND_html_a15dcbcaae831dd1c36090e6336c177d4"><div class="ttname"><a href="classDGtal_1_1KhalimskySpaceND.html#a15dcbcaae831dd1c36090e6336c177d4">DGtal::KhalimskySpaceND::init</a></div><div class="ttdeci">bool init(const Point &amp;lower, const Point &amp;upper, bool isClosed)</div><div class="ttdoc">Specifies the upper and lower bounds for the maximal cells in this space.</div></div>
<div class="ttc" id="aclassDGtal_1_1Trace_html_a352b7160bf722e2f0bcbee5d0bad6ef3"><div class="ttname"><a href="classDGtal_1_1Trace.html#a352b7160bf722e2f0bcbee5d0bad6ef3">DGtal::Trace::beginBlock</a></div><div class="ttdeci">void beginBlock(const std::string &amp;keyword=&quot;&quot;)</div></div>
<div class="ttc" id="aclassDGtal_1_1Trace_html_afa3a2874289734884107b1ce68ccb93d"><div class="ttname"><a href="classDGtal_1_1Trace.html#afa3a2874289734884107b1ce68ccb93d">DGtal::Trace::endBlock</a></div><div class="ttdeci">double endBlock()</div></div>
<div class="ttc" id="anamespaceDGtal_1_1Z2i_html"><div class="ttname"><a href="namespaceDGtal_1_1Z2i.html">DGtal::Z2i</a></div><div class="ttdoc">Z2i this namespace gathers the standard of types for 2D imagery.</div></div>
<div class="ttc" id="anamespaceDGtal_1_1Z2i_html_ac0a04516c81db6f4a583eddda0f64875"><div class="ttname"><a href="namespaceDGtal_1_1Z2i.html#ac0a04516c81db6f4a583eddda0f64875">DGtal::Z2i::Point</a></div><div class="ttdeci">Space::Point Point</div><div class="ttdef"><b>Definition:</b> <a href="StdDefs_8h_source.html#l00095">StdDefs.h:95</a></div></div>
<div class="ttc" id="atestProjection_8cpp_html_a1f1a69f8d8b037b72c2160ed12b3ef51"><div class="ttname"><a href="testProjection_8cpp.html#a1f1a69f8d8b037b72c2160ed12b3ef51">domain</a></div><div class="ttdeci">Domain domain</div><div class="ttdef"><b>Definition:</b> <a href="testProjection_8cpp_source.html#l00088">testProjection.cpp:88</a></div></div>
<div class="ttc" id="atestSimpleRandomAccessRangeFromPoint_8cpp_html_acd532b318489cd93df57e0b3d136d050"><div class="ttname"><a href="testSimpleRandomAccessRangeFromPoint_8cpp.html#acd532b318489cd93df57e0b3d136d050">Domain</a></div><div class="ttdeci">HyperRectDomain&lt; Space &gt; Domain</div><div class="ttdef"><b>Definition:</b> <a href="testSimpleRandomAccessRangeFromPoint_8cpp_source.html#l00044">testSimpleRandomAccessRangeFromPoint.cpp:44</a></div></div>
</div><!-- fragment --> <div class="image">
<img src="cubical-complex-illustrations-X.png" alt=""/>
<div class="caption">
Displaying a 2D cubical complex on a Board.</div></div>
 <h1><a class="anchor" id="dgtal_ccomplex_sec3"></a>
Incidence within a cubical complex</h1>
<p>Two cells of a cubical complex are incident if and only if they are incident in the Khalimsky space. From this relation, one can define faces, co-faces, as well as the boundary and co-boundary of a cell.</p>
<p>You have methods to get the faces, the co-faces, the direct faces or co-faces of a cell <em>c</em>, which are outputed with an output iterator:</p>
<ul>
<li><a class="el" href="classDGtal_1_1CubicalComplex.html#aff000af6951e3fe2f3a3b694664a1bbe">CubicalComplex::faces</a>: outputs the faces of <em>c</em>, i.e. all cells of lesser dimension than <em>c</em> and incident to <em>c</em>. You may specify that the complex is closed (if it is, at least locally) to speed-up this function.</li>
<li><a class="el" href="classDGtal_1_1CubicalComplex.html#a9bbb141894696e0d1e01279cb24feb5a">CubicalComplex::directFaces</a>: outputs the direct faces of <em>c</em>, i.e. all cells of dimension one less than <em>c</em> and incident to <em>c</em>. You may specify that the complex is closed (if it is, at least locally) to speed-up this function.</li>
<li><a class="el" href="classDGtal_1_1CubicalComplex.html#a9d26514e514bf4046b895d8c7cfcaa39">CubicalComplex::coFaces</a>: outputs the co-faces of <em>c</em>, i.e. all cells of greater dimension than <em>c</em> and incident to <em>c</em>. You may specify that the complex is open (if it is, at least locally) to speed-up this function.</li>
<li><a class="el" href="classDGtal_1_1CubicalComplex.html#a1fe3211a71182af93e622a0820c78389">CubicalComplex::directCoFaces</a>: outputs the direct co-faces of <em>c</em>, i.e. all cells of dimension one more than <em>c</em> and incident to <em>c</em>. You may specify that the complex is open (if it is, at least locally) to speed-up this function.</li>
</ul>
<p>There are also versions of these methods that return the iterators on these cells, if you need to access them directly in the complex afterwards.</p>
<p>If you wish to get a vector of cells that contains all the proper faces of some cell, then <a class="el" href="classDGtal_1_1CubicalComplex.html#a50036fe6c1830ba64d072dc975a0f6f5">CubicalComplex::cellBoundary</a> does the job. It is in general slightly faster than using <a class="el" href="classDGtal_1_1CubicalComplex.html#aff000af6951e3fe2f3a3b694664a1bbe">CubicalComplex::faces</a>.</p>
<p>If you wish to get a vector of cells that contains all the proper co-faces of some cell, then <a class="el" href="classDGtal_1_1CubicalComplex.html#a1dd10fbc1921d479f7621c02bece70da">CubicalComplex::cellCoBoundary</a> does the job. Again it is in general slightly faster than using <a class="el" href="classDGtal_1_1CubicalComplex.html#a9d26514e514bf4046b895d8c7cfcaa39">CubicalComplex::coFaces</a>.</p>
<h1><a class="anchor" id="dgtal_ccomplex_sec4"></a>
Closure, star and link of cells of a complex</h1>
<p>You have three methods to compute these "subcomplexes" of a complex <em>X</em>. In each case, you must give a subcomplex <em>S</em> of <em>X</em> which defines the cells for which you wish to compute the closure, star or link.</p>
<div class="image">
<img src="cubical-complex-illustrations-S.png" alt=""/>
<div class="caption">
Cubical complex <em>X</em> in light grey and subcomplex <em>S</em> in dark grey.</div></div>
 <ul>
<li><p class="startli"><a class="el" href="classDGtal_1_1CubicalComplex.html#a143cddfcdbcd8b137a576c12acb41f39">CubicalComplex::closure</a>: returns the closure of the cells of <em>S</em> within this complex, i.e. the smallest subcomplex of <em>X</em> that contains each cell in <em>S</em>.</p>
<div class="fragment"><div class="line">  board &lt;&lt; <a class="code" href="testProjection_8cpp.html#a1f1a69f8d8b037b72c2160ed12b3ef51">domain</a>;</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( Color(80,80,100), Color(180,180,200) ) )</div>
<div class="line">        &lt;&lt; X;</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( <a class="code" href="classDGtal_1_1Color.html#aa5e8679bd0da49f95d13cd95a17b619b">Color::Red</a>, Color(255,120,120) ) )</div>
<div class="line">        &lt;&lt; X.closure( S );</div>
<div class="line">  board.saveTikZ( <span class="stringliteral">&quot;cubical-complex-illustrations-closure.tikz&quot;</span> );</div>
<div class="line">  board.clear();</div>
<div class="ttc" id="aclassDGtal_1_1Color_html_aa5e8679bd0da49f95d13cd95a17b619b"><div class="ttname"><a href="classDGtal_1_1Color.html#aa5e8679bd0da49f95d13cd95a17b619b">DGtal::Color::Red</a></div><div class="ttdeci">static const Color Red</div><div class="ttdef"><b>Definition:</b> <a href="Color_8h_source.html#l00392">Color.h:392</a></div></div>
</div><!-- fragment --> <div class="image">
<img src="cubical-complex-illustrations-closure.png" alt=""/>
<div class="caption">
Closure of <em>S</em> in <em>X</em>, displayed in red.</div></div>
 </li>
<li><p class="startli"><a class="el" href="classDGtal_1_1CubicalComplex.html#a87c1f000c877398120e962b670b65f8c">CubicalComplex::star</a>: returns the star of the cells of <em>S</em> within this complex, i.e. the union of the star (co-faces + cell) in <em>X</em> of every cell of <em>S</em>.</p>
<div class="fragment"><div class="line">  board &lt;&lt; <a class="code" href="testProjection_8cpp.html#a1f1a69f8d8b037b72c2160ed12b3ef51">domain</a>;</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( Color(80,80,100), Color(180,180,200) ) )</div>
<div class="line">        &lt;&lt; X;</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( <a class="code" href="classDGtal_1_1Color.html#abf76f3f60747766c469ceb8e9bbfe68b">Color::Blue</a>, Color(120,120,255) ) )</div>
<div class="line">        &lt;&lt; X.star( S );</div>
<div class="line">  board.saveTikZ( <span class="stringliteral">&quot;cubical-complex-illustrations-star.tikz&quot;</span> );</div>
<div class="line">  board.clear();</div>
<div class="ttc" id="aclassDGtal_1_1Color_html_abf76f3f60747766c469ceb8e9bbfe68b"><div class="ttname"><a href="classDGtal_1_1Color.html#abf76f3f60747766c469ceb8e9bbfe68b">DGtal::Color::Blue</a></div><div class="ttdeci">static const Color Blue</div><div class="ttdef"><b>Definition:</b> <a href="Color_8h_source.html#l00395">Color.h:395</a></div></div>
</div><!-- fragment --> <div class="image">
<img src="cubical-complex-illustrations-star.png" alt=""/>
<div class="caption">
Star of <em>S</em> in <em>X</em>, displayed in red.</div></div>
 </li>
<li><p class="startli"><a class="el" href="classDGtal_1_1CubicalComplex.html#a868d1a839a63974e124dfa432a24c2bf">CubicalComplex::link</a>: returns the link of the cells of <em>S</em> within this complex, i.e. the closure of the star of <em>S</em> in <em>X</em> minus the star of the closure of <em>S</em> in <em>X</em>.</p>
<div class="fragment"><div class="line">  board &lt;&lt; <a class="code" href="testProjection_8cpp.html#a1f1a69f8d8b037b72c2160ed12b3ef51">domain</a>;</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( Color(80,80,100), Color(180,180,200) ) )</div>
<div class="line">        &lt;&lt; X;</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( <a class="code" href="classDGtal_1_1Color.html#a7b64e5703b4119bf395d739903ed488f">Color::Green</a>, Color(120,255,120) ) )</div>
<div class="line">        &lt;&lt; X.link( S );</div>
<div class="line">  board.saveTikZ( <span class="stringliteral">&quot;cubical-complex-illustrations-link.tikz&quot;</span> );</div>
<div class="line">  board.clear();</div>
<div class="ttc" id="aclassDGtal_1_1Color_html_a7b64e5703b4119bf395d739903ed488f"><div class="ttname"><a href="classDGtal_1_1Color.html#a7b64e5703b4119bf395d739903ed488f">DGtal::Color::Green</a></div><div class="ttdeci">static const Color Green</div><div class="ttdef"><b>Definition:</b> <a href="Color_8h_source.html#l00393">Color.h:393</a></div></div>
</div><!-- fragment --> <div class="image">
<img src="cubical-complex-illustrations-link.png" alt=""/>
<div class="caption">
Link of <em>S</em> in <em>X</em>, displayed in green.</div></div>
 </li>
</ul>
<h1><a class="anchor" id="dgtal_ccomplex_sec5"></a>
Interior, boundary of a complex</h1>
<p>You have three methods for computing the interior or the boundary of a complex. Note that the boundary and the interior of a complex have an empty intersection:</p>
<ul>
<li><p class="startli"><a class="el" href="classDGtal_1_1CubicalComplex.html#aa36d98253e497f8d0334ef85bfa01f65">CubicalComplex::interior</a>: returns the (topological) interior of this complex <em>X</em>, i.e. the cells whose star are homeomorphic to a ball of maximal dimension.</p>
<div class="fragment"><div class="line">  board &lt;&lt; <a class="code" href="testProjection_8cpp.html#a1f1a69f8d8b037b72c2160ed12b3ef51">domain</a>;</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( Color(80,80,100), Color(180,180,200) ) )</div>
<div class="line">        &lt;&lt; X;</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( <a class="code" href="classDGtal_1_1Color.html#a58460b1a2f77dcdec69ed0a1a3d8ef85">Color::Cyan</a>, Color(120,255,255) ) )</div>
<div class="line">        &lt;&lt; X.interior();</div>
<div class="line">  board.saveTikZ( <span class="stringliteral">&quot;cubical-complex-illustrations-int.tikz&quot;</span> );</div>
<div class="line">  board.clear();</div>
<div class="ttc" id="aclassDGtal_1_1Color_html_a58460b1a2f77dcdec69ed0a1a3d8ef85"><div class="ttname"><a href="classDGtal_1_1Color.html#a58460b1a2f77dcdec69ed0a1a3d8ef85">DGtal::Color::Cyan</a></div><div class="ttdeci">static const Color Cyan</div><div class="ttdef"><b>Definition:</b> <a href="Color_8h_source.html#l00396">Color.h:396</a></div></div>
</div><!-- fragment --> <div class="image">
<img src="cubical-complex-illustrations-int.png" alt=""/>
<div class="caption">
Interior of <em>X</em>, displayed in cyan.</div></div>
 </li>
<li><p class="startli"><a class="el" href="classDGtal_1_1CubicalComplex.html#a84cf9d409da5be61c53bdfb53271afe6">CubicalComplex::boundary</a>: returns the (topological) boundary of this complex <em>X</em>, i.e. the closure of <em>X</em> minus the interior of <em>X</em>. It is worthy to note that the boundary complex may contain cells that are not in <em>X</em>.</p>
<div class="fragment"><div class="line">  board &lt;&lt; <a class="code" href="testProjection_8cpp.html#a1f1a69f8d8b037b72c2160ed12b3ef51">domain</a>;</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( Color(80,80,100), Color(180,180,200) ) )</div>
<div class="line">        &lt;&lt; X;</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( <a class="code" href="classDGtal_1_1Color.html#afa43801a6e1278befe9e75a4c22e5b7c">Color::Magenta</a>, Color(255,120,255) ) )</div>
<div class="line">        &lt;&lt; X.boundary();</div>
<div class="line">  board.saveTikZ( <span class="stringliteral">&quot;cubical-complex-illustrations-bd.tikz&quot;</span> );</div>
<div class="line">  board.clear();</div>
<div class="ttc" id="aclassDGtal_1_1Color_html_afa43801a6e1278befe9e75a4c22e5b7c"><div class="ttname"><a href="classDGtal_1_1Color.html#afa43801a6e1278befe9e75a4c22e5b7c">DGtal::Color::Magenta</a></div><div class="ttdeci">static const Color Magenta</div><div class="ttdef"><b>Definition:</b> <a href="Color_8h_source.html#l00397">Color.h:397</a></div></div>
</div><!-- fragment --> <div class="image">
<img src="cubical-complex-illustrations-bd.png" alt=""/>
<div class="caption">
Boundary of <em>X</em>, displayed in magenta.</div></div>
 </li>
<li><a class="el" href="classDGtal_1_1CubicalComplex.html#a43de45f10e10c9bc5350391c93323a9a">CubicalComplex::getInteriorAndBoundary</a>: returns both the boundary and the interior of X, faster then computing both separately if you need both.</li>
</ul>
<h1><a class="anchor" id="dgtal_ccomplex_sec6"></a>
Set operations on complexes</h1>
<p>A cubical complex can be seen as a generic container (it is a model of <a class="el" href="structboost_1_1Container.html" title="Go to http://www.sgi.com/tech/stl/Container.html.">boost::Container</a>). Remember though that it is not a model of <a class="el" href="structboost_1_1DefaultConstructible.html" title="Go to http://www.sgi.com/tech/stl/DefaultConstructible.html.">boost::DefaultConstructible</a>, because it must know a cellular grid space to be valid. You could thus use operations defined in <a class="el" href="namespaceDGtal_1_1functions_1_1setops.html">DGtal::functions::setops</a> (see <a class="el" href="moduleSetFunctions.html">Set operations on arbitrary containers</a>) to perform set operations and relations on complexes. However, to use the specificity of the templated parameter CellContainer of <a class="el" href="classDGtal_1_1CubicalComplex.html" title="Aim: This class represents an arbitrary cubical complex living in some Khalimsky space....">CubicalComplex</a>, it is better to use operations and relations specifically defined for <a class="el" href="classDGtal_1_1CubicalComplex.html" title="Aim: This class represents an arbitrary cubical complex living in some Khalimsky space....">CubicalComplex</a>, for instance as follows:</p>
<div class="fragment"><div class="line"><a class="code" href="testCubicalComplex_8cpp.html#a9f6eee55782bbac774730b7688010a1e">CC</a> X( <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a> );            <span class="comment">// creates the cubical complex</span></div>
<div class="line"><a class="code" href="testCubicalComplex_8cpp.html#a9f6eee55782bbac774730b7688010a1e">CC</a> Xc  = ~X;          <span class="comment">// closing of X</span></div>
<div class="line"><a class="code" href="testCubicalComplex_8cpp.html#a9f6eee55782bbac774730b7688010a1e">CC</a> Xco = *Xc;         <span class="comment">// opening of Xc (interior of X).</span></div>
<div class="line"><a class="code" href="testCubicalComplex_8cpp.html#a9f6eee55782bbac774730b7688010a1e">CC</a> Xbd = Xc - Xco;    <span class="comment">// boundary of X.</span></div>
<div class="line"><a class="code" href="testCubicalComplex_8cpp.html#a9f6eee55782bbac774730b7688010a1e">CC</a> Xbd2= X.boundary();<span class="comment">// same result for pure complex. </span></div>
</div><!-- fragment --><p>You have the following operations:</p><ul>
<li>operator| : union of two complexes.</li>
<li>operator|= : assignment union with another complex.</li>
<li>operator&amp; : intersection of two complexes.</li>
<li>operator&amp;= : assignment intersection with another complex.</li>
<li>operator- : set difference of two complexes.</li>
<li>operator-= : assignment set difference with another complex.</li>
<li>operator^ : symmetric set difference of two complexes.</li>
<li>operator^= : assignment symmetric set difference with another complex.</li>
<li>operator~ : closing of a complex (smallest closed complex containg input complex).</li>
<li>operator* : opening of a complex (greatest open complex contained in input complex).</li>
</ul>
<p>And the following relations:</p><ul>
<li>operator&lt;= : inclusion of two complexes (subset).</li>
<li>operator&gt;= : inclusion of two complexes (supset).</li>
<li>operator== : equality of two complexes (both subset and supset).</li>
<li>operator!= : non-equality of two complexes (equal is false).</li>
</ul>
<p>All these operations are at most <b>linear</b> in the sum of the number of cells of input complexes, but they are generally exponential in the dimension of complexes.</p>
<h1><a class="anchor" id="dgtal_ccomplex_sec7"></a>
Topological operations: closing, opening, collapsing a complex</h1>
<p>You may <b>close</b> a complex (<a class="el" href="classDGtal_1_1CubicalComplex.html#aaeda923879c69e02aa85ba6622698d97">CubicalComplex::close</a>), i.e. adding cells such that the faces of every cell belongs to the complex. The complex is then said to be closed. The updated complex corresponds to the smallest closed complex containing it.</p>
<p>You may <b>open</b> a complex (<a class="el" href="classDGtal_1_1CubicalComplex.html#aaf566fbbd9e2e68c631b7ff826770eb5">CubicalComplex::open</a>), i.e. removing cells such that the co-faces of every cell belongs to the complex. The complex is then said to be open. The updated complex corresponds to the greatest open complex contained in it.</p>
<p>A more difficult topological operation is the <b>collapse</b> (<a class="el" href="namespaceDGtal_1_1functions.html#a72edc3d9d652158c3d02a6a11386f249">functions::collapse</a>). A collapse transforms a complex by removing cells, but at the end the complex has the same homotopy type as the initial complex. The topology is preserved since only free pairs are removed. The following snippet shows how to collapse complex X, while keeping two cells <em>fixed</em>.</p>
<div class="fragment"><div class="line">  board &lt;&lt; <a class="code" href="testProjection_8cpp.html#a1f1a69f8d8b037b72c2160ed12b3ef51">domain</a>;</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( Color(80,80,100), Color(180,180,200) ) )</div>
<div class="line">        &lt;&lt; X;</div>
<div class="line">  <a class="code" href="testCubicalComplex_8cpp.html#a9b10591d95c90247f1c7b3bd52853782">Cell</a> p1 = <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.uCell( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>(2,2) );</div>
<div class="line">  <a class="code" href="testCubicalComplex_8cpp.html#a9b10591d95c90247f1c7b3bd52853782">Cell</a> p2 = <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a>.uCell( <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>(10,6) );</div>
<div class="line">  X[ p1 ] = CC::FIXED;</div>
<div class="line">  X[ p2 ] = CC::FIXED;</div>
<div class="line">  CC::DefaultCellMapIteratorPriority P;</div>
<div class="line">  <a class="code" href="namespaceDGtal_1_1functions.html#a72edc3d9d652158c3d02a6a11386f249">functions::collapse</a>( X, X.begin(), X.end(), P, <span class="keyword">true</span>, <span class="keyword">true</span>, <span class="keyword">true</span> );</div>
<div class="line">  board &lt;&lt; CustomStyle( X.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( Color(255,120,20), Color(255,150,50) ) )</div>
<div class="line">        &lt;&lt; X</div>
<div class="line">        &lt;&lt; CustomStyle( p1.className(), </div>
<div class="line">                        <span class="keyword">new</span> CustomColors( <a class="code" href="classDGtal_1_1Color.html#abf76f3f60747766c469ceb8e9bbfe68b">Color::Blue</a>, Color(120,120,255) ) )</div>
<div class="line">        &lt;&lt; p1 &lt;&lt; p2;</div>
<div class="line">  board.saveTikZ( <span class="stringliteral">&quot;cubical-complex-illustrations-collapse.tikz&quot;</span> );</div>
<div class="line">  board.clear();</div>
<div class="ttc" id="anamespaceDGtal_1_1functions_html_a72edc3d9d652158c3d02a6a11386f249"><div class="ttname"><a href="namespaceDGtal_1_1functions.html#a72edc3d9d652158c3d02a6a11386f249">DGtal::functions::collapse</a></div><div class="ttdeci">uint64_t collapse(CubicalComplex&lt; TKSpace, TCellContainer &gt; &amp;K, CellConstIterator S_itB, CellConstIterator S_itE, const CellMapIteratorPriority &amp;priority, bool hintIsSClosed=false, bool hintIsKClosed=false, bool verbose=false)</div></div>
<div class="ttc" id="atestCubicalComplex_8cpp_html_a9b10591d95c90247f1c7b3bd52853782"><div class="ttname"><a href="testCubicalComplex_8cpp.html#a9b10591d95c90247f1c7b3bd52853782">Cell</a></div><div class="ttdeci">KSpace::Cell Cell</div><div class="ttdef"><b>Definition:</b> <a href="testCubicalComplex_8cpp_source.html#l00056">testCubicalComplex.cpp:56</a></div></div>
</div><!-- fragment --><p> As you can see, when collapsing a complex X, you precise:</p><ul>
<li>The subcomplex of X that can be collapsed (should be closed, otherwise it is closed).</li>
<li>A priority object that tells in which order cell are collapsed. If you use <a class="el" href="structDGtal_1_1CubicalComplex_1_1DefaultCellMapIteratorPriority.html">CubicalComplex::DefaultCellMapIteratorPriority</a>, then the order follows the values stored in the data associated with each cell. You may use <a class="el" href="classDGtal_1_1CubicalComplex.html#ac02a5fc02523f50cce90bcab59e9695e">CubicalComplex::operator[]</a> to change this value for each cell. The higher the value the sooner the cell is collapsed.</li>
<li>Various hints to speed up the process.</li>
</ul>
<p>Example <a class="el" href="cubical-complex-collapse_8cpp.html">topology/cubical-complex-collapse.cpp</a> shows that it works also in 3D (in fact, it is nD).</p>
<div class="image">
<img src="cubical-complex-illustrations-collapse.png" alt=""/>
<div class="caption">
Homotopic collapse of <em>X</em>, displayed in orange, with fixed points marked in blue.</div></div>
 <h1><a class="anchor" id="dgtal_ccomplex_sec8"></a>
Thinning in cubical complexes</h1>
<p>Thinning of digital objects in 2D and 3D with the guarantee that a final skeleton is thin can be achieved directly only in \(\mathbb{Z}^2\) for so-called well-composed images <a class="el" href="citelist.html#CITEREF_Latecki:ER:95">[66]</a>. Nevertheless, the problem can be solved for 3D objects represented by cubical complexes <a class="el" href="citelist.html#CITEREF_Chaussard:IWCIA:09">[23]</a>.</p>
<p>In <a class="el" href="citelist.html#CITEREF_Chaussard:IWCIA:09">[23]</a> Chaussard and Couprie proposed a parallel directional thinning schemes in cubical complexes which allow to obtain a thin result. The implementation in <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a> works for both 2D and 3D cubical complexes.</p>
<p>The first scheme, so-called <a class="el" href="classDGtal_1_1ParDirCollapse.html" title="Aim: Implements thinning algorithms in cubical complexes. The implementation supports any model of cu...">ParDirCollapse</a>&mdash;parallel directional collapse&mdash;based on the idea such that free pairs of faces are collapsed with respect to a fixed order of directions and order of face dimensions. In other words, in each iteration we first collapse free pairs of a given direction starting with pairs of the highest dimension. When there is no more free pairs to remove for a given direction then another direction is considered unless the specified number of iterations is not reached . Note in the case of <a class="el" href="classDGtal_1_1ParDirCollapse.html" title="Aim: Implements thinning algorithms in cubical complexes. The implementation supports any model of cu...">ParDirCollapse</a> the thinness of the result depends on the number of iterations.</p>
<p>The steps below present how to use <a class="el" href="classDGtal_1_1ParDirCollapse.html" title="Aim: Implements thinning algorithms in cubical complexes. The implementation supports any model of cu...">ParDirCollapse</a> in <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a>:</p>
<p>a) add those includes: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;DGtal/topology/ParDirCollapse.h&quot;</span></div>
</div><!-- fragment --><p> b) create an instance of the class <a class="el" href="classDGtal_1_1ParDirCollapse.html" title="Aim: Implements thinning algorithms in cubical complexes. The implementation supports any model of cu...">ParDirCollapse</a> and initialize it with an instance of the Khalimsky space: </p><div class="fragment"><div class="line">  ParDirCollapse &lt; CC &gt; thinning ( <a class="code" href="testCubicalComplex_8cpp.html#a2b87ed989d2519d025bd5d4fbcbac062">K</a> );</div>
</div><!-- fragment --><p> c) attach a cubical complex \(X\) to be thinned: </p><div class="fragment"><div class="line">    thinning.attach ( &amp;complex );</div>
</div><!-- fragment --><p> d) run the algorithm (here two iterations): </p><div class="fragment"><div class="line">    thinning.eval ( 2 );</div>
</div><!-- fragment --> <div class="image">
<img src="ComplexBeforeThinning.png" alt="" width="3cm"/>
<div class="caption">
The starting complex X before thinning.</div></div>
 <div class="image">
<img src="ParDirCollapse_2.png" alt="" width="5cm"/>
<div class="caption">
The starting complex X after two iterations of ParDirCollapse.</div></div>
 <p>The second scheme, so-called SurfaceCollapse is similar to <a class="el" href="classDGtal_1_1ParDirCollapse.html" title="Aim: Implements thinning algorithms in cubical complexes. The implementation supports any model of cu...">ParDirCollapse</a>. The only difference is that after each iteration of <a class="el" href="classDGtal_1_1ParDirCollapse.html" title="Aim: Implements thinning algorithms in cubical complexes. The implementation supports any model of cu...">ParDirCollapse</a>, faces of dimension \(dim(X) - 1\) which are not included in faces of higher dimension are marked as non-collapsible. The final output is guaranteed to be thin i.e. there is no faces of \(dim(X)\).</p>
<p>To run SurfaceCollapse we apply steps a&ndash;c for <a class="el" href="classDGtal_1_1ParDirCollapse.html" title="Aim: Implements thinning algorithms in cubical complexes. The implementation supports any model of cu...">ParDirCollapse</a> and then we apply the step below:</p>
<p>d) run the algorithm: </p><div class="fragment"><div class="line">    thinning.collapseSurface ();</div>
</div><!-- fragment --> <div class="image">
<img src="ParDirCollapse_collapseSurface.png" alt="" width="3cm"/>
<div class="caption">
The starting complex X after SurfaceCollapse.</div></div>
 <p>The last scheme, so-called IsthmusCollapse is similar to SurfaceCollapse. The only difference is that after each iteration of <a class="el" href="classDGtal_1_1ParDirCollapse.html" title="Aim: Implements thinning algorithms in cubical complexes. The implementation supports any model of cu...">ParDirCollapse</a>, we mark as non-collapsible those faces which are of dimension dim \((X) - 1\) and not included in faces of higher dimension. Moreover, all sub-faces of dimension \(dim(X) - 2\) of those faces have to be not free &ndash; are included in other faces of dimension \(dim(X) - 1\). The final output is guarantee to be thin i.e. there is no faces of \(dim(X)\).</p>
<p>To run SurfaceCollapse we apply steps a&ndash;c for <a class="el" href="classDGtal_1_1ParDirCollapse.html" title="Aim: Implements thinning algorithms in cubical complexes. The implementation supports any model of cu...">ParDirCollapse</a> and then we apply the step below:</p>
<p>d) run the algorithm: </p><div class="fragment"><div class="line">    thinning.collapseIsthmus ();</div>
</div><!-- fragment --> <div class="image">
<img src="ParDirCollapse_collapseIsthmus.png" alt="" width="3cm"/>
<div class="caption">
The starting complex X after IsthmusCollapse.</div></div>
 <p>For more details see the example <a class="el" href="cubicalComplexThinning_8cpp.html">topology/cubicalComplexThinning.cpp</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 1 2021 17:06:37 for DGtal by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
