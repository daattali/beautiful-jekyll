<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DGtal: Basic graph definitions and concepts</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="modern-doxygen-blue.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DGtal
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Basic graph definitions and concepts </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#dgtal_graph_def_1">Graph concepts in DGtal</a></li>
<li class="level1"><a href="#dgtal_graph_def_2">Using graphs</a><ul><li class="level2"><a href="#dgtal_graph_def_2_1">Instanciating graphs</a></li>
<li class="level2"><a href="#dgtal_graph_def_2_2">Enumerating vertices of a graph</a></li>
<li class="level2"><a href="#dgtal_graph_def_2_3">Enumerating edges of a graph</a></li>
<li class="level2"><a href="#dgtal_graph_def_2_4">Graph traversal with visitors</a></li>
<li class="level2"><a href="#dgtal_graph_def_2_5">Transforming a visitor into a range</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><dl class="section user"><dt>Author(s) of this documentation: </dt><dd>by Jacques-Olivier Lachaud</dd></dl>
<p>Part of the <a class="el" href="packageGraph.html">Graph package</a>.</p>
<p>This module defines what are graphs in <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a>, as well as basic associated concepts. Relevant digital models of graph are notably found in <a class="el" href="packageTopology.html">Topology package</a>.</p>
<p>The following programs are related to this documentation: <a class="el" href="graph_2graphTraversal_8cpp-example.html">graph/graphTraversal.cpp</a>, <a class="el" href="graph_2volDistanceTraversal_8cpp-example.html">graph/volDistanceTraversal.cpp</a></p>
<h1><a class="anchor" id="dgtal_graph_def_1"></a>
Graph concepts in DGtal</h1>
<p>There are many different ways for representing a given graph, even without considering types that attached data to vertices and edges, the most notable ones are adjacency lists per vertex, incidence matrix, outgoing edges per vertex. A rather comprehensive set of <b>finite</b> graph concepts may for instance be found in the boost::graph module.</p>
<p>Graphs in <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a> may be finite (like <a class="el" href="classDGtal_1_1Object.html" title="Aim: An object (or digital object) represents a set in some digital space associated with a digital t...">Object</a>) or only locally finite (like <a class="el" href="classDGtal_1_1MetricAdjacency.html" title="Aim: Describes digital adjacencies in digital spaces that are defined with the 1-norm and the infinit...">MetricAdjacency</a>). Graphs in <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a> are undirected. Therefore, they are two different concepts for graphs:</p>
<ul>
<li>locally finite graphs satisfy concept <a class="el" href="structDGtal_1_1concepts_1_1CUndirectedSimpleLocalGraph.html" title="Aim: Represents the concept of local graph: each vertex has neighboring vertices, but we do not neces...">concepts::CUndirectedSimpleLocalGraph</a>. There is no way to iterate through all vertices of that kind of graph (since they can be infinite). Edges of this graph are given through an adjacency list for each vertex.<ul>
<li>Notable models: <a class="el" href="classDGtal_1_1MetricAdjacency.html" title="Aim: Describes digital adjacencies in digital spaces that are defined with the 1-norm and the infinit...">MetricAdjacency</a></li>
<li>Notable refinements: <a class="el" href="structDGtal_1_1concepts_1_1CAdjacency.html" title="Aim: The concept CAdjacency defines an elementary adjacency relation between points of a digital spac...">concepts::CAdjacency</a>, <a class="el" href="structDGtal_1_1concepts_1_1CUndirectedSimpleGraph.html" title="Aim: Represents the concept of local graph: each vertex has neighboring vertices, but we do not neces...">concepts::CUndirectedSimpleGraph</a></li>
</ul>
</li>
<li>finite graphs satisfy concept <a class="el" href="structDGtal_1_1concepts_1_1CUndirectedSimpleGraph.html" title="Aim: Represents the concept of local graph: each vertex has neighboring vertices, but we do not neces...">concepts::CUndirectedSimpleGraph</a>, a refinement of <a class="el" href="structDGtal_1_1concepts_1_1CUndirectedSimpleLocalGraph.html" title="Aim: Represents the concept of local graph: each vertex has neighboring vertices, but we do not neces...">concepts::CUndirectedSimpleLocalGraph</a>. Such graphs provide vertex iterators to enumerate all the vertices of the graph. Such iterators may only be single pass input iterators.<ul>
<li>Notable models: <a class="el" href="classDGtal_1_1Object.html" title="Aim: An object (or digital object) represents a set in some digital space associated with a digital t...">Object</a>, <a class="el" href="classDGtal_1_1DigitalSurface.html" title="Aim: Represents a set of n-1-cells in a nD space, together with adjacency relation between these cell...">DigitalSurface</a>, <a class="el" href="classDGtal_1_1LightImplicitDigitalSurface.html" title="Aim: A model of CDigitalSurfaceContainer which defines the digital surface as the boundary of an impl...">LightImplicitDigitalSurface</a>, <a class="el" href="classDGtal_1_1LightExplicitDigitalSurface.html" title="Aim: A model of CDigitalSurfaceContainer which defines the digital surface as connected surfels....">LightExplicitDigitalSurface</a>, <a class="el" href="classDGtal_1_1TriangulatedSurface.html" title="Aim: Represents a triangulated surface. The topology is stored with a half-edge data structure....">TriangulatedSurface</a></li>
</ul>
</li>
</ul>
<p>All graphs define a <code>Vertex</code> (which must be instance-able, copy-able, assignable) and a <code>Size</code> type (type for counting vertices). Furthermore, they must provide a default type <code>VertexSet</code> for representing a set of Vertex, and a defaut type rebinder <code>VertexMap</code> for representing a map with key Vertex.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a> graph concepts are very light compared to boost::graph for instance. The advantage is that it is easy to create new models of graph in <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a>. The disadvantage is that you may not be able to design the best optimized graph algorithms in some case. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="moduleBoostGraphWrapping.html">Interfacing with boost::graph library</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>For now, <a class="el" href="namespaceDGtal.html" title="DGtal is the top-level namespace which contains all DGtal functions and types.">DGtal</a> does not provide a generic graph model.</dd></dl>
<h1><a class="anchor" id="dgtal_graph_def_2"></a>
Using graphs</h1>
<p>This section gathers the basic ways of using graphs.</p>
<h2><a class="anchor" id="dgtal_graph_def_2_1"></a>
Instanciating graphs</h2>
<p>The instanciation of graphs (like any object) is dependent on the chosen graph model. For instance, to instantiate a <a class="el" href="classDGtal_1_1MetricAdjacency.html" title="Aim: Describes digital adjacencies in digital spaces that are defined with the 1-norm and the infinit...">MetricAdjacency</a> or an <a class="el" href="classDGtal_1_1Object.html" title="Aim: An object (or digital object) represents a set in some digital space associated with a digital t...">Object</a>, you can consult <a class="el" href="moduleDigitalTopology.html">Digital topology and digital objects</a>. To instantiate a <a class="el" href="classDGtal_1_1DigitalSurface.html" title="Aim: Represents a set of n-1-cells in a nD space, together with adjacency relation between these cell...">DigitalSurface</a>, you may consult <a class="el" href="moduleDigitalSurfaces.html#dgtal_digsurf_sec3">High-level classes for digital surfaces</a>.</p>
<p>Here is a simple example for creating a 2D digital object seen with the (4,8) adjacency (in example <a class="el" href="graph_2graphTraversal_8cpp-example.html">graph/graphTraversal.cpp</a>)</p>
<div class="fragment"><div class="line">  <span class="keyword">using namespace </span>Z2i;</div>
<div class="line">  <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a> p1( -41, -36 ), p2( 18, 18 );</div>
<div class="line">  <a class="code" href="testSimpleRandomAccessRangeFromPoint_8cpp.html#acd532b318489cd93df57e0b3d136d050">Domain</a> <a class="code" href="testProjection_8cpp.html#a1f1a69f8d8b037b72c2160ed12b3ef51">domain</a>( p1, p2 );</div>
<div class="line">  <a class="code" href="namespaceDGtal_1_1Z2i.html#a371252c324e496cf8650757c1a2b4eb0">DigitalSet</a> shape_set( <a class="code" href="testProjection_8cpp.html#a1f1a69f8d8b037b72c2160ed12b3ef51">domain</a> );</div>
<div class="line">  <a class="code" href="classDGtal_1_1Shapes.html#acde0e74411f8d24da89c93f6df58a84f">Shapes&lt;Domain&gt;::addNorm2Ball</a>( shape_set, <a class="code" href="namespaceDGtal_1_1Z2i.html#ac0a04516c81db6f4a583eddda0f64875">Point</a>( -2, -1 ), 9 );</div>
<div class="line">  <a class="code" href="classDGtal_1_1Shapes.html#a2fffed9fe9a9a460dcd8e2902030e881">Shapes&lt;Domain&gt;::addNorm1Ball</a>( shape_set, <a class="code" href="namespaceDGtal_1_1Z2i.html#ac0a04516c81db6f4a583eddda0f64875">Point</a>( -14, 5 ), 9 );</div>
<div class="line">  <a class="code" href="classDGtal_1_1Shapes.html#a2fffed9fe9a9a460dcd8e2902030e881">Shapes&lt;Domain&gt;::addNorm1Ball</a>( shape_set, <a class="code" href="namespaceDGtal_1_1Z2i.html#ac0a04516c81db6f4a583eddda0f64875">Point</a>( -30, -15 ), 10 );</div>
<div class="line">  <a class="code" href="classDGtal_1_1Shapes.html#acde0e74411f8d24da89c93f6df58a84f">Shapes&lt;Domain&gt;::addNorm2Ball</a>( shape_set, <a class="code" href="namespaceDGtal_1_1Z2i.html#ac0a04516c81db6f4a583eddda0f64875">Point</a>( -10, -20 ), 12 );</div>
<div class="line">  <a class="code" href="classDGtal_1_1Shapes.html#a2fffed9fe9a9a460dcd8e2902030e881">Shapes&lt;Domain&gt;::addNorm1Ball</a>( shape_set, <a class="code" href="namespaceDGtal_1_1Z2i.html#ac0a04516c81db6f4a583eddda0f64875">Point</a>( 12, -1 ), 4 );</div>
<div class="line">  <a class="code" href="namespaceDGtal_1_1Z2i.html#a7b2f164e461fd4e76244e919ffedf685">Object4_8</a> g( <a class="code" href="namespaceDGtal_1_1Z2i.html#a66bc7c15d8f9427e237f9a3e8f0d6c7b">dt4_8</a>, shape_set ); <span class="comment">// 4-adjacency graph.</span></div>
<div class="line">  <span class="keyword">typedef</span> <a class="code" href="namespaceDGtal_1_1Z2i.html#a7b2f164e461fd4e76244e919ffedf685">Object4_8</a> Graph;</div>
<div class="line">  <span class="keyword">typedef</span> <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a> <a class="code" href="testTriangulatedSurface_8cpp.html#ae931baebcf0de56dd5f3b9342207e4fd">Vertex</a>;</div>
<div class="line">  BOOST_CONCEPT_ASSERT(( concepts::CUndirectedSimpleGraph&lt; Graph &gt; ));</div>
<div class="ttc" id="aclassDGtal_1_1Shapes_html_a2fffed9fe9a9a460dcd8e2902030e881"><div class="ttname"><a href="classDGtal_1_1Shapes.html#a2fffed9fe9a9a460dcd8e2902030e881">DGtal::Shapes::addNorm1Ball</a></div><div class="ttdeci">static void addNorm1Ball(TDigitalSet &amp;aSet, const Point &amp;aCenter, UnsignedInteger aRadius)</div></div>
<div class="ttc" id="aclassDGtal_1_1Shapes_html_acde0e74411f8d24da89c93f6df58a84f"><div class="ttname"><a href="classDGtal_1_1Shapes.html#acde0e74411f8d24da89c93f6df58a84f">DGtal::Shapes::addNorm2Ball</a></div><div class="ttdeci">static void addNorm2Ball(TDigitalSet &amp;aSet, const Point &amp;aCenter, UnsignedInteger aRadius)</div></div>
<div class="ttc" id="anamespaceDGtal_1_1Z2i_html_a371252c324e496cf8650757c1a2b4eb0"><div class="ttname"><a href="namespaceDGtal_1_1Z2i.html#a371252c324e496cf8650757c1a2b4eb0">DGtal::Z2i::DigitalSet</a></div><div class="ttdeci">DigitalSetSelector&lt; Domain, BIG_DS+HIGH_BEL_DS &gt;::Type DigitalSet</div><div class="ttdef"><b>Definition:</b> <a href="StdDefs_8h_source.html#l00100">StdDefs.h:100</a></div></div>
<div class="ttc" id="anamespaceDGtal_1_1Z2i_html_a66bc7c15d8f9427e237f9a3e8f0d6c7b"><div class="ttname"><a href="namespaceDGtal_1_1Z2i.html#a66bc7c15d8f9427e237f9a3e8f0d6c7b">DGtal::Z2i::dt4_8</a></div><div class="ttdeci">static const DT4_8 dt4_8</div><div class="ttdef"><b>Definition:</b> <a href="StdDefs_8h_source.html#l00113">StdDefs.h:113</a></div></div>
<div class="ttc" id="anamespaceDGtal_1_1Z2i_html_a7b2f164e461fd4e76244e919ffedf685"><div class="ttname"><a href="namespaceDGtal_1_1Z2i.html#a7b2f164e461fd4e76244e919ffedf685">DGtal::Z2i::Object4_8</a></div><div class="ttdeci">Object&lt; DT4_8, DigitalSet &gt; Object4_8</div><div class="ttdef"><b>Definition:</b> <a href="StdDefs_8h_source.html#l00101">StdDefs.h:101</a></div></div>
<div class="ttc" id="anamespaceDGtal_1_1Z2i_html_ac0a04516c81db6f4a583eddda0f64875"><div class="ttname"><a href="namespaceDGtal_1_1Z2i.html#ac0a04516c81db6f4a583eddda0f64875">DGtal::Z2i::Point</a></div><div class="ttdeci">Space::Point Point</div><div class="ttdef"><b>Definition:</b> <a href="StdDefs_8h_source.html#l00095">StdDefs.h:95</a></div></div>
<div class="ttc" id="atestClone2_8cpp_html_a15e9592ccc512dc691b46185e6814758"><div class="ttname"><a href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a></div><div class="ttdeci">MyPointD Point</div><div class="ttdef"><b>Definition:</b> <a href="testClone2_8cpp_source.html#l00383">testClone2.cpp:383</a></div></div>
<div class="ttc" id="atestProjection_8cpp_html_a1f1a69f8d8b037b72c2160ed12b3ef51"><div class="ttname"><a href="testProjection_8cpp.html#a1f1a69f8d8b037b72c2160ed12b3ef51">domain</a></div><div class="ttdeci">Domain domain</div><div class="ttdef"><b>Definition:</b> <a href="testProjection_8cpp_source.html#l00088">testProjection.cpp:88</a></div></div>
<div class="ttc" id="atestSimpleRandomAccessRangeFromPoint_8cpp_html_acd532b318489cd93df57e0b3d136d050"><div class="ttname"><a href="testSimpleRandomAccessRangeFromPoint_8cpp.html#acd532b318489cd93df57e0b3d136d050">Domain</a></div><div class="ttdeci">HyperRectDomain&lt; Space &gt; Domain</div><div class="ttdef"><b>Definition:</b> <a href="testSimpleRandomAccessRangeFromPoint_8cpp_source.html#l00044">testSimpleRandomAccessRangeFromPoint.cpp:44</a></div></div>
<div class="ttc" id="atestTriangulatedSurface_8cpp_html_ae931baebcf0de56dd5f3b9342207e4fd"><div class="ttname"><a href="testTriangulatedSurface_8cpp.html#ae931baebcf0de56dd5f3b9342207e4fd">Vertex</a></div><div class="ttdeci">TriMesh::Vertex Vertex</div><div class="ttdef"><b>Definition:</b> <a href="testTriangulatedSurface_8cpp_source.html#l00057">testTriangulatedSurface.cpp:57</a></div></div>
</div><!-- fragment --><p> The last line above checks that <a class="el" href="classDGtal_1_1Object.html" title="Aim: An object (or digital object) represents a set in some digital space associated with a digital t...">Object</a> are finite graphs.</p>
<h2><a class="anchor" id="dgtal_graph_def_2_2"></a>
Enumerating vertices of a graph</h2>
<p>We simply use the range [begin(),end()) offered by graphs. This is done as follows.</p>
<div class="fragment"><div class="line">  <span class="keywordtype">int</span> n = 0;</div>
<div class="line">  <span class="keywordflow">for</span> ( <a class="code" href="greedy-plane-segmentation-ex2_8cpp.html#a6d06fad433cff067dfcbbbf16d6e2dbf">Graph::ConstIterator</a> it = g.begin(), itEnd = g.end();</div>
<div class="line">        it != itEnd; ++it, ++n )</div>
<div class="line">    { <span class="comment">// Vertex are colored in order.</span></div>
<div class="line">      <a class="code" href="testTriangulatedSurface_8cpp.html#ae931baebcf0de56dd5f3b9342207e4fd">Vertex</a> vtx = *it;</div>
<div class="line">      board &lt;&lt; CustomStyle( specificStyle,</div>
<div class="line">                            <span class="keyword">new</span> CustomColors( <a class="code" href="classDGtal_1_1Color.html#ac26d8585885e7a354893b7e93c6a9dda">Color::Black</a>,</div>
<div class="line">                                              cmap_hue( n ) ) )</div>
<div class="line">            &lt;&lt; vtx;</div>
<div class="line">    }</div>
<div class="line">  board.saveEPS(<span class="stringliteral">&quot;graphTraversal-enum.eps&quot;</span>);</div>
<div class="ttc" id="aclassDGtal_1_1Color_html_ac26d8585885e7a354893b7e93c6a9dda"><div class="ttname"><a href="classDGtal_1_1Color.html#ac26d8585885e7a354893b7e93c6a9dda">DGtal::Color::Black</a></div><div class="ttdeci">static const Color Black</div><div class="ttdef"><b>Definition:</b> <a href="Color_8h_source.html#l00389">Color.h:389</a></div></div>
<div class="ttc" id="agreedy-plane-segmentation-ex2_8cpp_html_a6d06fad433cff067dfcbbbf16d6e2dbf"><div class="ttname"><a href="greedy-plane-segmentation-ex2_8cpp.html#a6d06fad433cff067dfcbbbf16d6e2dbf">ConstIterator</a></div><div class="ttdeci">MyDigitalSurface::ConstIterator ConstIterator</div><div class="ttdef"><b>Definition:</b> <a href="greedy-plane-segmentation-ex2_8cpp_source.html#l00093">greedy-plane-segmentation-ex2.cpp:93</a></div></div>
</div><!-- fragment --> <div class="image">
<img src="graphTraversal-enum.png" alt=""/>
<div class="caption">
Coloring vertices of an object graph according to the enumeration order.</div></div>
 <h2><a class="anchor" id="dgtal_graph_def_2_3"></a>
Enumerating edges of a graph</h2>
<p>You may obtain edges of a graph by using method writeNeighbors as follows:</p>
<div class="fragment"><div class="line">    <span class="keywordtype">int</span> nn = 0;</div>
<div class="line">    <span class="keywordtype">int</span> mm = 0;</div>
<div class="line">    std::vector&lt;Vertex&gt; neighbors;</div>
<div class="line">    <span class="keywordflow">for</span> ( <a class="code" href="greedy-plane-segmentation-ex2_8cpp.html#a6d06fad433cff067dfcbbbf16d6e2dbf">Graph::ConstIterator</a> it = g.begin(), itEnd = g.end();</div>
<div class="line">          it != itEnd; ++it, ++nn )</div>
<div class="line">      {</div>
<div class="line">        <a class="code" href="testTriangulatedSurface_8cpp.html#ae931baebcf0de56dd5f3b9342207e4fd">Vertex</a> vtx = *it;</div>
<div class="line">        std::back_insert_iterator&lt; std::vector&lt;Vertex&gt; &gt; neighIt</div>
<div class="line">          = std::back_inserter( neighbors );</div>
<div class="line">        g.writeNeighbors( neighIt, vtx );</div>
<div class="line">        mm += neighbors.size();</div>
<div class="line">        neighbors.clear();</div>
<div class="line">      }</div>
<div class="line">    <a class="code" href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">trace</a>.<a class="code" href="classDGtal_1_1Trace.html#ad054990834d2763627166540087a2980">info</a>() &lt;&lt; <span class="stringliteral">&quot;Graph has &quot;</span> &lt;&lt; nn &lt;&lt; <span class="stringliteral">&quot; vertices and &quot;</span></div>
<div class="line">                 &lt;&lt; (mm/2) &lt;&lt; <span class="stringliteral">&quot; edges.&quot;</span> &lt;&lt; std::endl;</div>
<div class="ttc" id="aclassDGtal_1_1Trace_html_ad054990834d2763627166540087a2980"><div class="ttname"><a href="classDGtal_1_1Trace.html#ad054990834d2763627166540087a2980">DGtal::Trace::info</a></div><div class="ttdeci">std::ostream &amp; info()</div></div>
<div class="ttc" id="anamespaceDGtal_html_a8fc7012708b0416880a5c8b12dfdf9dd"><div class="ttname"><a href="namespaceDGtal.html#a8fc7012708b0416880a5c8b12dfdf9dd">DGtal::trace</a></div><div class="ttdeci">Trace trace</div><div class="ttdef"><b>Definition:</b> <a href="Common_8h_source.html#l00154">Common.h:154</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="dgtal_graph_def_2_4"></a>
Graph traversal with visitors</h2>
<p>Sometimes it is more convenient to traverse in a specific order, and not in the arbitrary order given by vertex enumeration. That is exactly the purpose of visitors, specified by concept <a class="el" href="structDGtal_1_1concepts_1_1CGraphVisitor.html" title="Aim: Defines the concept of a visitor onto a graph, that is an object that traverses vertices of the ...">concepts::CGraphVisitor</a>. Visitors traverse the graph or only subparts of the graph by adjacencies. In some sense, they trace a tree from the initial seed. A vertex is visited at most once. Data may be associated to each visited vertex, like its distance to the initial seed. Three models of visitors are provided, two of them implement the classical breadth-first and depth-first traversal:</p>
<ul>
<li>model <a class="el" href="classDGtal_1_1BreadthFirstVisitor.html" title="Aim: This class is useful to perform a breadth-first exploration of a graph given a starting point or...">BreadthFirstVisitor</a> performs the traversal of a <b>connected</b> graph by breadth-first search. If the graph is not connected, only the connected component(s) containing the initial seed(s) are visited. This visitor also computes the distance to the initial seed(s), which is also the topological distance to the seed(s) (see <a class="el" href="graph_2graphTraversal_8cpp-example.html">graph/graphTraversal.cpp</a>).</li>
<li>model <a class="el" href="classDGtal_1_1DepthFirstVisitor.html" title="Aim: This class is useful to perform a depth-first exploration of a graph given a starting point or s...">DepthFirstVisitor</a> performs the traversal of a <b>connected</b> graph by depth-first search. If the graph is not connected, only the connected component(s) containing the initial seed(s) are visited. This visitor also computes the distance to the initial seed(s) as the number of ancestors in the depth search (see <a class="el" href="graph_2graphTraversal_8cpp-example.html">graph/graphTraversal.cpp</a>).</li>
<li>model <a class="el" href="classDGtal_1_1DistanceBreadthFirstVisitor.html" title="Aim: This class is useful to perform an exploration of a graph given a starting point or set (called ...">DistanceBreadthFirstVisitor</a> performs the traversal of a <b>connected</b> graph by a modified breadth-first search: it is based on a priority queue, the priority of which is given by a distance object (and not by the topological distance as in classical breadth-first traversal). If the graph is not connected, only the connected component(s) containing the initial seed(s) are visited. This visitor also gives the distance given by the distance object (see <a class="el" href="graph_2volDistanceTraversal_8cpp-example.html">graph/volDistanceTraversal.cpp</a>).</li>
</ul>
<p>The snippet below shows how to use a visitor to color vertices according to the topological distance to the initial seed (the point (-2,-1)). The node is a <code>std::pair&lt;Vertex,Data&gt;</code>, where <code>Data</code> is the distance.</p>
<div class="fragment"><div class="line">  <span class="keyword">typedef</span> BreadthFirstVisitor&lt;Graph, std::set&lt;Vertex&gt; &gt; BFSVisitor;</div>
<div class="line">  <span class="keyword">typedef</span> BFSVisitor::Node Node;</div>
<div class="line">  BFSVisitor bfv( g, <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>( -2, -1 ) );</div>
<div class="line">  <span class="keywordflow">while</span>( ! bfv.finished() )</div>
<div class="line">  { <span class="comment">// Vertex are colored according to the distance to initial seed.</span></div>
<div class="line">    Node node = bfv.current();</div>
<div class="line">    board &lt;&lt; CustomStyle( specificStyle,</div>
<div class="line">                          <span class="keyword">new</span> CustomColors( <a class="code" href="classDGtal_1_1Color.html#ac26d8585885e7a354893b7e93c6a9dda">Color::Black</a>,</div>
<div class="line">                                            cmap_grad( node.second ) ) )</div>
<div class="line">          &lt;&lt; node.first; <span class="comment">// the vertex</span></div>
<div class="line">    bfv.expand();</div>
<div class="line">  }</div>
<div class="line">  board.saveEPS(<span class="stringliteral">&quot;graphTraversal-bfs.eps&quot;</span>);</div>
</div><!-- fragment --> <div class="image">
<img src="graphTraversal-bfs.png" alt=""/>
<div class="caption">
Coloring vertices of an object graph according to the topological distance to a seed (breadth-first traversal).</div></div>
<dl class="section note"><dt>Note</dt><dd>The traversal of the graph can be changed dynamically in two ways:<ul>
<li>visited vertices can be limited with a model of <a class="el" href="structDGtal_1_1concepts_1_1CVertexPredicate.html" title="Aim: Defines a predicate on a vertex.">concepts::CVertexPredicate</a> (e.g. see <a class="el" href="classDGtal_1_1BreadthFirstVisitor.html#a5b4b58d707406efb9386ce2297e11467">BreadthFirstVisitor::expand( const VertexPredicate &amp; )</a> ).</li>
<li>you may forbid some visited vertices to have descendants (e.g. see <a class="el" href="classDGtal_1_1BreadthFirstVisitor.html#a68daeb591e9bd1a9310f99cd44ee19ec">BreadthFirstVisitor::ignore()</a> ).</li>
</ul>
</dd></dl>
<h2><a class="anchor" id="dgtal_graph_def_2_5"></a>
Transforming a visitor into a range</h2>
<p>It is sometimes convenient to transform a visitor into the usual range / iterator pair. For instance, it is used by light containers for digital surfaces to iterate through all vertices on-the-fly (see <a class="el" href="classDGtal_1_1LightImplicitDigitalSurface.html" title="Aim: A model of CDigitalSurfaceContainer which defines the digital surface as the boundary of an impl...">LightImplicitDigitalSurface</a>, <a class="el" href="classDGtal_1_1LightExplicitDigitalSurface.html" title="Aim: A model of CDigitalSurfaceContainer which defines the digital surface as connected surfels....">LightExplicitDigitalSurface</a>). This is done easily with class <a class="el" href="classDGtal_1_1GraphVisitorRange.html" title="Aim: Transforms a graph visitor into a single pass input range.">GraphVisitorRange</a>. This class transforms an arbitary model of <a class="el" href="structDGtal_1_1concepts_1_1CGraphVisitor.html" title="Aim: Defines the concept of a visitor onto a graph, that is an object that traverses vertices of the ...">concepts::CGraphVisitor</a> into a single pass input range (on <code>Vertex</code> or on <code>Node</code>).</p>
<p>The following snippet transforms a <a class="el" href="classDGtal_1_1DepthFirstVisitor.html" title="Aim: This class is useful to perform a depth-first exploration of a graph given a starting point or s...">DepthFirstVisitor</a> into a range.</p>
<div class="fragment"><div class="line">  <span class="keyword">typedef</span> DepthFirstVisitor&lt;Graph, std::set&lt;Vertex&gt; &gt; DFSVisitor;</div>
<div class="line">  <span class="keyword">typedef</span> GraphVisitorRange&lt;DFSVisitor&gt; VisitorRange;</div>
<div class="line">  VisitorRange range( <span class="keyword">new</span> DFSVisitor( g, <a class="code" href="testClone2_8cpp.html#a15e9592ccc512dc691b46185e6814758">Point</a>( -2, -1 ) ) );</div>
<div class="line">  n = 0;</div>
<div class="line">  <span class="keywordflow">for</span> ( <a class="code" href="greedy-plane-segmentation-ex2_8cpp.html#a6d06fad433cff067dfcbbbf16d6e2dbf">VisitorRange::ConstIterator</a> it = range.begin(), itEnd = range.end();</div>
<div class="line">        it != itEnd; ++it, ++n )</div>
<div class="line">    { <span class="comment">// Vertex are colored according to their order (depth first order here).</span></div>
<div class="line">      <a class="code" href="testTriangulatedSurface_8cpp.html#ae931baebcf0de56dd5f3b9342207e4fd">Vertex</a> vtx = *it;</div>
<div class="line">      board &lt;&lt; CustomStyle( specificStyle,</div>
<div class="line">                            <span class="keyword">new</span> CustomColors( <a class="code" href="classDGtal_1_1Color.html#ac26d8585885e7a354893b7e93c6a9dda">Color::Black</a>,</div>
<div class="line">                                              cmap_hue( n ) ) )</div>
<div class="line">            &lt;&lt; vtx;</div>
<div class="line">    }</div>
<div class="line">  board.saveEPS(<span class="stringliteral">&quot;graphTraversal-dfs-range.eps&quot;</span>);</div>
</div><!-- fragment --> <div class="image">
<img src="graphTraversal-dfs-range.png" alt=""/>
<div class="caption">
Coloring vertices of an object graph according to their order given by a depth-first traversal.</div></div>
  </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 1 2021 17:06:30 for DGtal by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
